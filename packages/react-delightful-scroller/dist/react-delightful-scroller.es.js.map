{"version":3,"file":"react-delightful-scroller.es.js","sources":["../src/getBatchedItems.js","../src/Wrapper.js","../src/RenderItemWrapper.js","../src/BatchRenderer.js","../src/useDimensions.js","../src/initializeDimensions.js","../src/useVisibility.js","../src/initializeInitialVisibility.js","../src/useScroll.js","../src/useVisibilityAndDimension.js","../src/getVisibleIndexes.js","../src/Sentinel.js","../src/DefaultRenderers.js","../src/index.js"],"sourcesContent":["export const getBatchedItems = (items, batchSize = 1) => {\n  const batched = [];\n\n  // Faster that clone and splice\n  for (let index = 0; index < items.length; index += batchSize) {\n    const chunk = items.slice(index, index + batchSize);\n    // Do something if you want with the group\n    batched.push(chunk);\n  }\n\n  return batched;\n};\n","import React from \"react\";\n\nexport const Wrapper = React.forwardRef(\n  ({ as = \"div\", style, children }, ref) =>\n    React.createElement(as, { ref, style }, children)\n);\n\nWrapper.displayName = \"Wrapper\";\n","import React from \"react\";\n\n// Don't put quality check for items here!\n// node won't update when other props on Render item changes\n// Might create memory leak/closure issues in react hooks\nexport const RenderItemWrapper = React.memo(({ item, index, RenderItem }) => (\n  <RenderItem item={item} index={index} />\n));\n\nRenderItemWrapper.displayName = \"RenderItemWrapper\";\n","import React from \"react\";\nimport Measure from \"react-measure\";\nimport { Wrapper } from \"./Wrapper\";\nimport { RenderItemWrapper } from \"./RenderItemWrapper\";\n\nexport const BatchRenderer = React.memo(\n  ({\n    batch,\n    index,\n    getItemKey,\n    batchSize,\n    wrapperElement,\n    removeFromDOM,\n    dimensions,\n    setDimension,\n    RenderItem,\n    visible,\n    itemHeight\n  }) => {\n    const hasFixedHeightItems = !!itemHeight;\n    let batchWrapper = null;\n\n    if (visible || !removeFromDOM) {\n      const items = batch.map((item, idx) => {\n        const actualIndex = batchSize * index + idx;\n        const key = getItemKey(item, actualIndex);\n        return (\n          <RenderItemWrapper\n            key={key}\n            item={item}\n            index={actualIndex}\n            RenderItem={RenderItem}\n          />\n        );\n      });\n\n      const itemsBatch = (\n        <Wrapper\n          data-iscroller-batch={index}\n          as={wrapperElement}\n          style={\n            !removeFromDOM ? { visibility: visible ? \"visible\" : \"hidden\" } : {}\n          }\n        >\n          {items}\n        </Wrapper>\n      );\n\n      batchWrapper = hasFixedHeightItems ? (\n        // No need to add resize observer to batch of fixed height items\n        itemsBatch\n      ) : (\n        // Add resize observer to batch of dynamic items\n        <Measure\n          // ScrollHeight is actual height of batch including content margins\n          scroll\n          onResize={contentRect => {\n            setDimension(index, contentRect);\n          }}\n        >\n          {({ measureRef }) =>\n            React.cloneElement(itemsBatch, { ref: measureRef })\n          }\n        </Measure>\n      );\n    } else {\n      batchWrapper = (\n        <div\n          style={{\n            height: dimensions.height\n          }}\n        />\n      );\n    }\n\n    return batchWrapper;\n  },\n  ({ batch: prevBatch, visible: prevVisible }, { batch, visible }) => {\n    const batchItemsHaveSameRef =\n      prevBatch.length === batch.length &&\n      prevBatch.every((e, i) => e === batch[i]);\n\n    return batchItemsHaveSameRef && prevVisible === visible;\n  }\n);\n\nBatchRenderer.displayName = \"BatchRenderer\";\n","import { useState, useRef } from \"react\";\n\nexport const useDimensions = (initialValue = []) => {\n  const [dimensions, setDimension] = useState(initialValue);\n  // Set state is async, we need a ref to store intermediate value\n  const intermediate = useRef(null);\n  const wrappedSetDimensions = (index, dimension) => {\n    const newDimensions = [\n      ...((intermediate && intermediate.current) || dimensions)\n    ];\n    const { width, height } = dimension.scroll;\n    newDimensions[index] = { width, height };\n    intermediate.current = newDimensions;\n    setDimension(newDimensions);\n  };\n  return [dimensions, wrappedSetDimensions];\n};\n","export function initializeDimensions({\n  axis,\n  itemHeight,\n  averageItemHeight,\n  batchSize,\n  itemsCount\n}) {\n  return () => {\n    const totalBatches = Math.ceil(itemsCount / batchSize);\n    const estimatedEmptyBatchHeight =\n      axis === \"y\"\n        ? Math.ceil((itemHeight || averageItemHeight) * batchSize)\n        : // TODO - handle other directions\n          0;\n    const initial = [];\n    for (let i = 0; i < totalBatches; i += 1) {\n      initial[i] = { height: estimatedEmptyBatchHeight, width: null };\n    }\n    return initial;\n  };\n}\n","import { useState } from \"react\";\n\nexport function useVisibility(initial = []) {\n  const [visibility, setVisibility] = useState(initial);\n\n  const wrappedSetVisibility = newVisibility => {\n    setVisibility(newVisibility);\n  };\n\n  return [visibility, wrappedSetVisibility];\n}\n","export function initializeInitialVisibility({\n  axis,\n  containerHeight,\n  itemHeight,\n  averageItemHeight,\n  batchSize,\n  itemsCount\n}) {\n  return () => {\n    const totalBatches = Math.ceil(itemsCount / batchSize);\n    const estimatedInitialBatches =\n      axis === \"y\"\n        ? Math.ceil(\n            containerHeight / ((itemHeight || averageItemHeight) * batchSize)\n          )\n        : // TODO - handle other directions\n          0;\n    const initial = [];\n    for (let i = 0; i < totalBatches; i += 1) {\n      initial[i] = i < estimatedInitialBatches;\n    }\n    return initial;\n  };\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport throttle from \"lodash.throttle\";\n\nconst getScrollOffset = (element, axis) => {\n  const { scrollTop, scrollY } = element;\n  if (axis === \"y\") {\n    if (scrollTop !== undefined) {\n      return scrollTop;\n    }\n    return scrollY;\n  }\n  return 0;\n};\n\nexport const useScroll = ({ root, axis }) => {\n  const timeout = useRef(null);\n  const [scrollOffset, setScrollOffset] = useState(0);\n\n  useEffect(() => {\n    const element = root || window;\n    const handler = throttle(() => {\n      // If there's a timer, cancel it\n      if (timeout.current) {\n        window.cancelAnimationFrame(timeout.current);\n      }\n      // Setup the requestAnimationFrame\n      timeout.current = window.requestAnimationFrame(() =>\n        setScrollOffset(getScrollOffset(element, axis))\n      );\n    }, 100);\n    element.addEventListener(\"scroll\", handler, {\n      capture: false,\n      passive: true\n    });\n\n    return () => {\n      if (handler.cancel) {\n        handler.cancel();\n      }\n      window.cancelAnimationFrame(timeout.current);\n      element.removeEventListener(\"scroll\", handler);\n    };\n  }, [axis, root]);\n\n  return scrollOffset;\n};\n","import { useEffect } from \"react\";\nimport { useDimensions } from \"./useDimensions\";\nimport { initializeDimensions } from \"./initializeDimensions\";\nimport { useVisibility } from \"./useVisibility\";\nimport { initializeInitialVisibility } from \"./initializeInitialVisibility\";\nimport { useScroll } from \"./useScroll\";\n\n// Time interval B 'overlaps' A if:\n// B starts after A starts but before A finishes.\n// B starts before A starts and finishes after A starts.\nfunction areOverlapping(A, B) {\n  if (B[0] < A[0]) {\n    return B[1] > A[0];\n  }\n  return B[0] < A[1];\n}\n\nexport const useVisibilityAndDimension = ({\n  root,\n  axis,\n  containerHeight,\n  itemsCount,\n  itemHeight,\n  averageItemHeight,\n  batchSize,\n  batchBufferDistance\n}) => {\n  const [dimensions, setDimension] = useDimensions(\n    initializeDimensions({\n      itemsCount,\n      axis,\n      itemHeight,\n      averageItemHeight,\n      batchSize\n    })\n  );\n  const [visibility, setVisibility] = useVisibility(\n    initializeInitialVisibility({\n      itemsCount,\n      axis,\n      containerHeight,\n      itemHeight,\n      averageItemHeight,\n      batchSize\n    })\n  );\n  const scrollOffset = useScroll({ root, axis });\n\n  useEffect(() => {\n    const renderWindow = [\n      scrollOffset - batchBufferDistance,\n      scrollOffset + containerHeight + batchBufferDistance\n    ];\n    const totalBatches = Math.ceil(itemsCount / batchSize);\n\n    let nextTotal = 0;\n    const nextVisibility = [];\n    for (let i = 0; i < totalBatches; i += 1) {\n      const currentHeight = nextTotal;\n      const nextHeight = nextTotal + dimensions[i].height;\n      nextVisibility[i] = areOverlapping(renderWindow, [\n        currentHeight,\n        nextHeight\n      ]);\n      nextTotal = nextHeight;\n    }\n\n    const visibilityChanged = nextVisibility.some(\n      (e, i) => e !== visibility[i]\n    );\n    if (visibilityChanged) {\n      setVisibility(nextVisibility);\n    }\n  }, [\n    batchSize,\n    containerHeight,\n    setVisibility,\n    dimensions,\n    itemsCount,\n    scrollOffset,\n    visibility,\n    batchBufferDistance\n  ]);\n\n  return [dimensions, visibility, setDimension];\n};\n","export const getVisibleIndexes = visibility => {\n  let start;\n  let end;\n\n  for (let i = 0; i < visibility.length; i += 1) {\n    const v = visibility[i];\n    if (start !== undefined && end !== undefined && !v) {\n      break;\n    }\n    if (start === undefined && v) {\n      start = i;\n    }\n    if (start !== undefined && v) {\n      end = i;\n    }\n  }\n\n  return [start, end];\n};\n","import React, { useRef, useEffect } from \"react\";\n\nexport const Sentinel = ({\n  fetchMoreBufferDistance,\n  onFetchMore,\n  RenderLoader,\n  wrapperElement,\n  items,\n  itemsCount,\n  batchSize,\n  root,\n  axis\n}) => {\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const targetNode = ref.current;\n    const options = {\n      root,\n      rootMargin:\n        axis === \"y\" ? `0px 0px ${fetchMoreBufferDistance}px 0px` : \"0px\",\n      threshold: 0\n    };\n    const callback = ([{ isIntersecting }]) => {\n      if (isIntersecting) {\n        onFetchMore({ items, itemsCount, batchSize });\n      }\n    };\n    const observer = new IntersectionObserver(callback, options);\n    if (targetNode) {\n      observer.observe(targetNode);\n    }\n\n    return () => {\n      // Stop watching all of its target elements for visibility changes\n      observer.disconnect();\n    };\n  }, [\n    axis,\n    fetchMoreBufferDistance,\n    batchSize,\n    items,\n    onFetchMore,\n    root,\n    itemsCount\n  ]);\n\n  return React.createElement(\n    wrapperElement,\n    {\n      ref\n    },\n    <RenderLoader items={items} itemsCount={itemsCount} batchSize={batchSize} />\n  );\n};\n","import React from \"react\";\n\nexport const DefaultRenderContainer = ({ children, forwardRef }) => (\n  <div ref={forwardRef}>{children}</div>\n);\n\nDefaultRenderContainer.displayName = \"DefaultRenderContainer\";\n\n// eslint-disable-next-line no-unused-vars\nexport const DefaultRenderItem = ({ item, index }) => item;\n\nDefaultRenderItem.displayName = \"DefaultRenderItem\";\n\n// eslint-disable-next-line no-unused-vars\nexport const DefaultRenderLoader = ({ items, itemsCount, batchSize }) => null;\n\nDefaultRenderLoader.displayName = \"DefaultRenderLoader\";\n","/**\n * TODO:\n * - Add propTypes\n * - Add addon-info and customize\n * - Add react live edit\n * - Unmount cards?\n * - Use scrollRestoration to reduce batch creation - https://itsze.ro/blog/2017/04/09/infinite-list-and-react.html\n * - Scroll restoration\n * - Optimize every piece of code\n * - Custom element scroll\n * - More stories\n * - Multiple axis support\n * - Testing\n * - Animatable card story\n */\n\n/**\n * Things learnt\n * React.memo re-renders when context is used\n *   - https://github.com/facebook/react/issues/15156\n * Use requestAnimationFrame instead of throttle on scroll\n *   - https://gist.github.com/paulmillr/3118943\n *   - https://gomakethings.com/debouncing-events-with-requestanimationframe-for-better-performance/\n * react remounts rendered node when ref and functional component reference change in render\n */\nimport React, { memo } from \"react\";\nimport useWindowSize from \"@rehooks/window-size\";\nimport PropTypes from \"prop-types\";\nimport { getBatchedItems } from \"./getBatchedItems\";\nimport { BatchRenderer } from \"./BatchRenderer\";\nimport { useVisibilityAndDimension } from \"./useVisibilityAndDimension\";\nimport { getVisibleIndexes } from \"./getVisibleIndexes\";\nimport { Sentinel } from \"./Sentinel\";\nimport {\n  DefaultRenderItem,\n  DefaultRenderContainer,\n  DefaultRenderLoader\n} from \"./DefaultRenderers\";\n\nconst BaseRenderer = ({\n  containerHeight,\n  items,\n  RenderItem,\n  getItemKey,\n  wrapperElement,\n  forwardRef,\n  RenderContainer,\n  removeFromDOM,\n  root,\n  batchSize,\n  axis,\n  averageItemHeight,\n  itemHeight,\n  itemsCount,\n  batchBufferDistance,\n  onFetchMore,\n  RenderLoader,\n  fetchMoreBufferDistance\n}) => {\n  const [dimensions, visibility, setDimension] = useVisibilityAndDimension({\n    root,\n    axis,\n    containerHeight,\n    itemsCount,\n    itemHeight,\n    averageItemHeight,\n    batchSize,\n    batchBufferDistance\n  });\n\n  const batchedItems = getBatchedItems(items, batchSize);\n  let current = batchedItems;\n  let previous = [];\n  let next = [];\n  let prevHeight;\n  let nextHeight;\n\n  if (removeFromDOM) {\n    const [startIndex, endIndex] = getVisibleIndexes(visibility);\n    previous = batchedItems.slice(0, startIndex);\n    current = batchedItems.slice(startIndex, endIndex + 1);\n    next = batchedItems.slice(endIndex + 1, batchedItems.length);\n\n    prevHeight = previous.reduce((p, c, i) => {\n      const index = i;\n      const dimension = dimensions[index];\n      return p + dimension.height;\n    }, 0);\n\n    nextHeight = next.reduce((p, c, i) => {\n      const index = previous.length + current.length + i;\n      const dimension = dimensions[index];\n      return p + dimension.height;\n    }, 0);\n  }\n\n  const batchedElements = current.map((batch, i) => {\n    const index = previous.length + i;\n    return (\n      <BatchRenderer\n        key={index}\n        batch={batch}\n        index={index}\n        getItemKey={getItemKey}\n        batchSize={batchSize}\n        wrapperElement={wrapperElement}\n        removeFromDOM={removeFromDOM}\n        setDimension={setDimension}\n        RenderItem={RenderItem}\n        dimensions={dimensions[index]}\n        visible={visibility[index]}\n        itemHeight={itemHeight}\n      />\n    );\n  });\n\n  const Container = (\n    <RenderContainer forwardRef={forwardRef}>\n      {prevHeight ? (\n        <div style={{ height: prevHeight, visibility: \"hidden\" }} />\n      ) : null}\n      {batchedElements}\n      {nextHeight ? (\n        <div style={{ height: nextHeight, visibility: \"hidden\" }} />\n      ) : null}\n      {axis === \"y\" && items.length < itemsCount ? (\n        <Sentinel\n          onFetchMore={onFetchMore}\n          fetchMoreBufferDistance={fetchMoreBufferDistance}\n          RenderLoader={RenderLoader}\n          wrapperElement={wrapperElement}\n          items={items}\n          itemsCount={itemsCount}\n          batchSize={batchSize}\n          root={root}\n          axis={axis}\n        />\n      ) : null}\n    </RenderContainer>\n  );\n\n  return Container;\n};\n\nBaseRenderer.displayName = \"BaseRenderer\";\n\nconst WindowContainer = props => {\n  const { innerWidth, innerHeight } = useWindowSize();\n\n  return (\n    <BaseRenderer\n      {...props}\n      containerWidth={innerWidth}\n      containerHeight={innerHeight}\n    />\n  );\n};\n\nconst Entry = (props, ref) => {\n  if (!props.root) {\n    return <WindowContainer {...props} forwardRef={ref} />;\n  }\n\n  // TODO - Custom container\n  return null;\n};\n\nconst DelightfulScroller = memo(React.forwardRef(Entry));\n\nDelightfulScroller.defaultProps = {\n  items: [],\n  itemsCount: 0,\n  RenderItem: DefaultRenderItem,\n  getItemKey: (item, index) => (typeof item === \"string\" ? item : index),\n  wrapperElement: \"div\",\n  RenderContainer: DefaultRenderContainer,\n  removeFromDOM: true,\n  root: null,\n  averageItemHeight: 10,\n  itemHeight: null,\n  axis: \"y\",\n  batchSize: 10,\n  batchBufferDistance: 250,\n  fetchMoreBufferDistance: 500,\n  RenderLoader: DefaultRenderLoader,\n  // eslint-disable-next-line no-unused-vars\n  onFetchMore: ({ items, itemsCount, batchSize }) => {}\n};\n\nDelightfulScroller.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.any),\n  itemsCount: PropTypes.number,\n  RenderItem: PropTypes.elementType,\n  getItemKey: PropTypes.func,\n  wrapperElement: PropTypes.string,\n  RenderContainer: PropTypes.elementType,\n  removeFromDOM: PropTypes.bool,\n  root: PropTypes.element,\n  averageItemHeight: PropTypes.number,\n  itemHeight: PropTypes.number,\n  axis: PropTypes.oneOf([\"y\"]),\n  batchSize: PropTypes.number,\n  batchBufferDistance: PropTypes.number,\n  fetchMoreBufferDistance: PropTypes.number,\n  RenderLoader: PropTypes.elementType,\n  onFetchMore: PropTypes.func\n};\n\nDelightfulScroller.displayName = \"DelightfulScroller\";\n\nexport default DelightfulScroller;\n"],"names":["getBatchedItems","items","batchSize","batched","index","length","chunk","slice","push","Wrapper","React","forwardRef","ref","as","style","children","createElement","displayName","RenderItemWrapper","memo","item","RenderItem","BatchRenderer","batch","getItemKey","wrapperElement","removeFromDOM","dimensions","setDimension","visible","itemHeight","hasFixedHeightItems","batchWrapper","map","idx","actualIndex","key","itemsBatch","visibility","contentRect","measureRef","cloneElement","height","prevBatch","prevVisible","batchItemsHaveSameRef","every","e","i","useDimensions","initialValue","useState","intermediate","useRef","wrappedSetDimensions","dimension","newDimensions","current","scroll","width","initializeDimensions","axis","averageItemHeight","itemsCount","totalBatches","Math","ceil","estimatedEmptyBatchHeight","initial","useVisibility","setVisibility","wrappedSetVisibility","newVisibility","initializeInitialVisibility","containerHeight","estimatedInitialBatches","getScrollOffset","element","scrollTop","scrollY","undefined","useScroll","root","timeout","scrollOffset","setScrollOffset","useEffect","window","handler","throttle","cancelAnimationFrame","requestAnimationFrame","addEventListener","capture","passive","cancel","removeEventListener","areOverlapping","A","B","useVisibilityAndDimension","batchBufferDistance","renderWindow","nextTotal","nextVisibility","currentHeight","nextHeight","visibilityChanged","some","getVisibleIndexes","start","end","v","Sentinel","fetchMoreBufferDistance","onFetchMore","RenderLoader","targetNode","options","rootMargin","threshold","callback","isIntersecting","observer","IntersectionObserver","observe","disconnect","DefaultRenderContainer","DefaultRenderItem","DefaultRenderLoader","BaseRenderer","RenderContainer","batchedItems","previous","next","prevHeight","startIndex","endIndex","reduce","p","c","batchedElements","Container","WindowContainer","props","useWindowSize","innerWidth","innerHeight","Entry","DelightfulScroller","defaultProps","propTypes","PropTypes","arrayOf","any","number","elementType","func","string","bool","oneOf"],"mappings":"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"}